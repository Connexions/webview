<h2 class="medium-header">Downloads</h2>

{{> modules/media/footer/inherits/tab/toggle-partial }}

{{#is downloads 'loading'}}
  <div class="progress progress-striped active">
    <div class="progress-bar secondary" role="progressbar" style="width: 100%">
      <span class="sr-only">Loading</span>
    </div>
  </div>
{{else}}
  {{#if downloads.length}}
  <button class="btn content-display-button">More details</button>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Format:</th>
          <th scope="col">Details</th>
          <th scope="col">File Name:</th>
          <th scope="col" class="content-display">Generated:</th>
          <th scope="col" class="content-display">Size:</th>
        </tr>
      </thead>
      <tbody>
        {{#each downloads}}
        <tr>
          <td>{{format}}</td>
          <td>{{details}}</td>
          {{#is this.state 'good'}}
            <td><a href="{{path}}">{{filename}}</a></td>
            <td class="content-display">{{date created}}</td>
            <td class="content-display">{{convertToSize size}}</td>
            </tr>
          {{else}}
            <td>File not available</td>
            <td class="content-display">0</td>
            <td class="content-display">0</td>
            </tr>
          {{/is}}
        {{/each}}
      </tbody>
    </table>
  {{else}}
    <p>No downloads are available at this time.</p>
  {{/if}}
{{/is}}
